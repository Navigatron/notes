<!DOCTYPE html>
<html lang=" en-US">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		
	<!-- MathJax disabled on this page -->

		


		<!--[if lt IE 9]>
			<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
		<![endif]-->
		
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Arvo&family=Fira+Mono&family=Open+Sans&display=swap');
		</style>
		<link rel="stylesheet" href="/styles/index.css?v=1657689426786">

		<!-- Code Highlighting -->
		<link rel="stylesheet" href="https://raw.githubusercontent.com/PrismJS/prism-themes/master/themes/prism-one-light.css">
	</head>

	<body>
		<main>
			
			


<article>
	<p><a href="../../../">Index</a> &gt; <a href="./">Course</a> &gt; Mon Feb 08 2021 19:00:00 GMT-0500 (Eastern Standard Time):</p>
<h1>Mon Feb 08 2021 19:00:00 GMT-0500 (Eastern Standard Time):</h1>
<p>Last class of the semester!</p>
<p>Final Exam:</p>
<ul>
<li>Online for a Full Week</li>
<li>Goes live May 7th at 12:01AM</li>
<li>Ends on May 13th at 11:59PM</li>
<li>Roughly 30 questions
<ul>
<li>True/False</li>
<li>Multiple Choice</li>
</ul>
</li>
<li>Not Cumulative!
<ul>
<li>Ways that analysts might tip off adversaries</li>
<li>Active vs Passive malware RE</li>
<li>Lots of Structs / VTables</li>
<li>Lots of Shellcode</li>
<li>Traversing the Process Env. Block (PEB)</li>
<li>API Hashing</li>
<li>Anti-Analysis</li>
</ul>
</li>
<li>One notes sheet permitted
<ul>
<li>Both sides legal</li>
</ul>
</li>
</ul>
<h1>Anti-Analysis</h1>
<ul>
<li>Practical uses</li>
<li>Anti-Debugging
<ul>
<li>Detects Debugging</li>
</ul>
</li>
<li>Anti-Reversing
<ul>
<li>Junk code to distract reverse engineers</li>
</ul>
</li>
<li>Obfuscation
<ul>
<li>Packers / Crypters</li>
<li>Shellcode</li>
</ul>
</li>
</ul>
<h2>Practical uses</h2>
<ul>
<li>Slow down analysis of an important function
<ul>
<li>Software registration keys (No Pirates!)</li>
<li>Video game network code (No Cheating!)</li>
</ul>
</li>
</ul>
<h2>Anti-Debugging</h2>
<ul>
<li>Test for Debugging
<ul>
<li>Time
<ul>
<li>Are simple tasks taking too long?</li>
</ul>
</li>
<li>Environment
<ul>
<li>Are there interesting processes running?</li>
<li>What's up with the CPU flags?</li>
</ul>
</li>
<li>Binary
<ul>
<li>Are there breakpoints on the heap?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Time Measurement</h3>
<ul>
<li>GetTickCount
<ul>
<li>Time in ms since cpu started</li>
</ul>
</li>
<li>RDTSC
<ul>
<li>Read Time-Stamp Counter</li>
<li>Assembly Instruction</li>
<li>Alternative to Windows API</li>
</ul>
</li>
</ul>
<h3>Environment</h3>
<ul>
<li>Is the parent process a debugger?</li>
<li>Are there debugging flags?</li>
<li>What hardware can I see?
<ul>
<li>VM Mac Addresses</li>
<li>VM Bios Fingerprint</li>
</ul>
</li>
<li>x86 <code>IN</code>
<ul>
<li>Reads a number from the IO port</li>
<li>returns 'VMXh' in a VM</li>
</ul>
</li>
</ul>
<h3>Binary</h3>
<p>Measure for the number of breakpoint bytes in the heap</p>
<h2>Anti-Reversing</h2>
<p>Adding lots of junk code to distract engineers</p>
<h2>Obfuscation</h2>
<p>The more you try to hide, the more you stand out. Obfuscation tells analysts that something is interesting to look at.</p>
<p>Recall: LoadLibraryA and GetProcAddress will always be present. If you only see those two strings, there is def some obfuscation.</p>
<hr>
<p><a href="../../../">Index</a> &gt; <a href="./">Course</a> &gt; Mon Feb 08 2021 19:00:00 GMT-0500 (Eastern Standard Time):</p>

</article>
			
			<footer>
				<hr>
				<p>
					&copy; <a href="https://ewitherington.me">Ethan Witherington</a> 2022
				</p>
			</footer>
		</main>
	</body>

</html>