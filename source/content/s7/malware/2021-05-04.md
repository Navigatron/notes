---
date: 2021-02-09
title: "If you're reading this, I didn't change the title of my template."
---

[Index](../../../index.md) > [Course](./index.md) > {{ page.date }}: {{ page.title }}

# {{ page.date }}: {{ page.title }}
Last class of the semester!

Final Exam:
- Online for a Full Week
- Goes live May 7th at 12:01AM
- Ends on May 13th at 11:59PM
- Roughly 30 questions
    - True/False
    - Multiple Choice
- Not Cumulative!
    - Ways that analysts might tip off adversaries
    - Active vs Passive malware RE
    - Lots of Structs / VTables
    - Lots of Shellcode
    - Traversing the Process Env. Block (PEB)
    - API Hashing
    - Anti-Analysis
- One notes sheet permitted
    - Both sides legal

# Anti-Analysis
- Practical uses
- Anti-Debugging
    - Detects Debugging
- Anti-Reversing
    - Junk code to distract reverse engineers
- Obfuscation
    - Packers / Crypters
    - Shellcode

## Practical uses
- Slow down analysis of an important function
    - Software registration keys (No Pirates!)
    - Video game network code (No Cheating!)

## Anti-Debugging

- Test for Debugging
    - Time
        - Are simple tasks taking too long?
    - Environment
        - Are there interesting processes running?
        - What's up with the CPU flags?
    - Binary
        - Are there breakpoints on the heap?

### Time Measurement

- GetTickCount
    - Time in ms since cpu started
- RDTSC
    - Read Time-Stamp Counter
    - Assembly Instruction
    - Alternative to Windows API

### Environment

- Is the parent process a debugger?
- Are there debugging flags?
- What hardware can I see?
    - VM Mac Addresses
    - VM Bios Fingerprint
- x86 `IN`
    - Reads a number from the IO port
    - returns 'VMXh' in a VM

### Binary

Measure for the number of breakpoint bytes in the heap

## Anti-Reversing

Adding lots of junk code to distract engineers

## Obfuscation

The more you try to hide, the more you stand out. Obfuscation tells analysts that something is interesting to look at.

Recall: LoadLibraryA and GetProcAddress will always be present. If you only see those two strings, there is def some obfuscation.

---

[Index](../../../index.md) > [Course](./index.md) > {{ page.date }}: {{ page.title }}
